{"version":3,"file":"js/121.7aa0c62a.js","mappings":"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","sources":["webpack://lcipage/./src/components/LineChart.vue","webpack://lcipage/./src/components/LineChart.vue?30b1"],"sourcesContent":["<template>\r\n    <div class=\"chart-container\">\r\n        <v-chart class=\"chart\" :option=\"chartOption\" autoresize />\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\nimport { use } from 'echarts/core'\r\nimport { CanvasRenderer } from 'echarts/renderers'\r\nimport { LineChart } from 'echarts/charts'\r\nimport {\r\n    TitleComponent,\r\n    TooltipComponent,\r\n    LegendComponent,\r\n    GridComponent,\r\n    DataZoomComponent,\r\n} from 'echarts/components'\r\n\r\n// 注册必要的组件\r\nuse([\r\n    CanvasRenderer,\r\n    LineChart,\r\n    TitleComponent,\r\n    TooltipComponent,\r\n    LegendComponent,\r\n    GridComponent,\r\n    DataZoomComponent,\r\n])\r\n\r\n// 使用 ref 定义响应式的图表配置\r\nconst chartOption = ref({\r\n    title: {\r\n        text: '各工艺成本历史曲线',\r\n        left: 'center',\r\n        top: 20,\r\n        padding: [0, 0, 20, 0],\r\n        textStyle: {\r\n            fontSize: 30,\r\n            fontWeight: 'bold'\r\n        }\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        formatter: function(params) {\r\n            let result = params[0].axisValue + '<br/>'\r\n            params.forEach(param => {\r\n                if (param.value && param.value[1] !== null) {\r\n                    result += `${param.marker} ${param.seriesName}: ${param.value[1].toFixed(2)}<br/>`\r\n                }\r\n            })\r\n            return result\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['通惠碳酸锂综合成本指数', '锂辉石', '电碳现货价', '低品位锂云母', '高品位锂云母', '磷酸铁锂正极片', '磷酸铁锂电池粉', '三元极片粉'],\r\n        top: 70,\r\n        padding: [20, 0, 0, 0],\r\n        textStyle: {\r\n            fontSize: 16\r\n        }\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '15%',\r\n        top: '25%',\r\n        containLabel: true\r\n    },\r\n    xAxis: {\r\n        type: 'time',\r\n        boundaryGap: false,\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#333'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            formatter: '{yyyy}-{MM}-{dd}'\r\n        }\r\n    },\r\n    yAxis: {\r\n        type: 'value',\r\n        axisLabel: {\r\n            formatter: '{value}'\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                type: 'dashed'\r\n            }\r\n        }\r\n    },\r\n    dataZoom: [{\r\n        type: 'slider',\r\n        show: true,\r\n        xAxisIndex: [0],\r\n        start: 0,\r\n        end: 100,\r\n        bottom: 10,\r\n        height: 30,\r\n        borderColor: '#ccc'\r\n    }],\r\n    series: [\r\n        {\r\n            name: '通惠碳酸锂综合成本指数',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: {\r\n                width: 3,\r\n                color: '#722ED1',  // 使用深紫色显示通惠碳酸锂成本综合指数\r\n                shadowColor: 'rgba(114, 46, 209, 0.5)',  // 阴影颜色\r\n                shadowBlur: 10,  // 阴影模糊度\r\n                shadowOffsetY: 2  // 阴影垂直偏移\r\n            },\r\n            z: 3  // 确保通惠碳酸锂成本综合指数显示在最上层\r\n        },\r\n        {\r\n            name: '锂辉石',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: {\r\n                width: 3,\r\n                color: '#FF4B4B'  // 突出显示锂辉石\r\n            },\r\n            z: 2\r\n        },\r\n        {\r\n            name: '电碳现货价',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: {\r\n                width: 3,\r\n                color: '#FFB800'  // 使用更深的黄色显示电碳现货价\r\n            },\r\n            z: 2\r\n        },\r\n        {\r\n            name: '低品位锂云母',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: { \r\n                width: 2,\r\n                color: '#A8D8FF'  // 淡化处理\r\n            }\r\n        },\r\n        {\r\n            name: '高品位锂云母',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: { \r\n                width: 2,\r\n                color: '#B8E2B8'  // 淡化处理\r\n            }\r\n        },\r\n        {\r\n            name: '磷酸铁锂正极片',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: { \r\n                width: 2,\r\n                color: '#FFE4B8'  // 淡化处理\r\n            }\r\n        },\r\n        {\r\n            name: '磷酸铁锂电池粉',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: { \r\n                width: 2,\r\n                color: '#FFD4B8'  // 淡化处理\r\n            }\r\n        },\r\n        {\r\n            name: '三元极片粉',\r\n            type: 'line',\r\n            data: [],\r\n            symbol: 'none',\r\n            lineStyle: { \r\n                width: 2,\r\n                color: '#E8D4FF'  // 淡化处理\r\n            }\r\n        }\r\n    ],\r\n    color: ['#722ED1', '#FF4B4B', '#FFB800', '#A8D8FF', '#B8E2B8', '#FFE4B8', '#FFD4B8', '#E8D4FF']  // 更新配色方案顺序\r\n})\r\n\r\n// 获取数据的方法\r\nconst fetchData = async () => {\r\n    try {\r\n        // const response = await axios.get('http://localhost:8081/api/getAll')\r\n        const response = await axios.get('https://service.thqh.com.cn:27878/api/getAll')\r\n\r\n        const data = response.data\r\n\r\n        // 处理数据\r\n        const processedData = {\r\n            spodumene: [],\r\n            lg_Lepidolite: [],\r\n            hg_Lepidolite: [],\r\n            lfp_Cathode: [],\r\n            lfp_BattPower: [],\r\n            ncm: [],\r\n            ec_Spot: [],\r\n            compoIndex: []  // 添加通惠碳酸锂成本综合指数数据数组\r\n        }\r\n\r\n        data.forEach(item => {\r\n            const date = item.date\r\n            if (item.spodumene !== null) processedData.spodumene.push([date, item.spodumene])\r\n            if (item.lg_Lepidolite !== null) processedData.lg_Lepidolite.push([date, item.lg_Lepidolite])\r\n            if (item.hg_Lepidolite !== null) processedData.hg_Lepidolite.push([date, item.hg_Lepidolite])\r\n            if (item.lfp_Cathode !== null) processedData.lfp_Cathode.push([date, item.lfp_Cathode])\r\n            if (item.lfp_BattPower !== null) processedData.lfp_BattPower.push([date, item.lfp_BattPower])\r\n            if (item.ncm !== null) processedData.ncm.push([date, item.ncm])\r\n            if (item.ec_Spot !== null) processedData.ec_Spot.push([date, item.ec_Spot])\r\n            if (item.compoIndex !== null) processedData.compoIndex.push([date, item.compoIndex])  // 处理通惠碳酸锂成本综合指数数据\r\n        })\r\n\r\n        // 更新图表数据\r\n        chartOption.value.series = chartOption.value.series.map((series, index) => ({\r\n            ...series,\r\n            data: [\r\n                processedData.spodumene,\r\n                processedData.lg_Lepidolite,\r\n                processedData.hg_Lepidolite,\r\n                processedData.lfp_Cathode,\r\n                processedData.lfp_BattPower,\r\n                processedData.ncm,\r\n                processedData.ec_Spot,\r\n                processedData.compoIndex\r\n            ][index]\r\n        }))\r\n    } catch (error) {\r\n        console.error('获取数据失败:', error)\r\n    }\r\n}\r\n\r\n// 组件挂载时获取数据\r\nonMounted(() => {\r\n    fetchData()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.chart-container {\r\n    width: 100wh;\r\n    /* max-width: 1800px; */\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n    background: rgb(250, 250, 250);\r\n    border-radius: 16px;\r\n    box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\r\n\r\n    width: 96%;\r\n}\r\n\r\n.chart {\r\n    height: 500px;\r\n    width: 100%;\r\n}\r\n</style>","import script from \"./LineChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LineChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LineChart.vue?vue&type=style&index=0&id=614406ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-614406ce\"]])\n\nexport default __exports__"],"names":["use","CanvasRenderer","LineChart","TitleComponent","TooltipComponent","LegendComponent","GridComponent","DataZoomComponent","chartOption","ref","title","text","left","top","padding","textStyle","fontSize","fontWeight","tooltip","trigger","formatter","params","result","axisValue","forEach","param","value","marker","seriesName","toFixed","legend","data","grid","right","bottom","containLabel","xAxis","type","boundaryGap","axisLine","lineStyle","color","axisLabel","yAxis","splitLine","dataZoom","show","xAxisIndex","start","end","height","borderColor","series","name","symbol","width","shadowColor","shadowBlur","shadowOffsetY","z","fetchData","async","response","axios","get","processedData","spodumene","lg_Lepidolite","hg_Lepidolite","lfp_Cathode","lfp_BattPower","ncm","ec_Spot","compoIndex","item","date","push","map","index","error","console","onMounted","__exports__"],"sourceRoot":""}