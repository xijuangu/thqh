{"version":3,"file":"js/85.28bf3868.js","mappings":"yUAwCA,MAAMA,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAYF,EAAAA,EAAAA,IAAI,IAEhBG,EAAa,CACf,aACA,YACA,gBACA,gBACA,cACA,gBACA,MACA,UAIEC,EAAkBC,IACpB,MAAMC,EAAU,CACZ,WAAc,cACd,UAAa,QACb,cAAiB,SACjB,cAAiB,SACjB,YAAe,UACf,cAAiB,UACjB,IAAO,QACP,OAAU,SAGd,OAAOA,EAAQD,IAASA,CAAI,EAG1BE,EAAcC,IAChB,IAAKA,EAAS,MAAO,GACrB,MAAMC,EAAO,IAAIC,KAAKF,GACtB,MAAO,GAAGC,EAAKE,WAAa,KAAKF,EAAKG,YAAY,EAUhDC,EAAqBC,GACT,OAAVA,QAA4BC,IAAVD,EAA4B,IAC3CE,KAAKC,MAAsB,IAAhBC,OAAOJ,IAAgB,IAMvCK,EAAgBL,GACJ,OAAVA,QAA4BC,IAAVD,EAA4B,IAC3C,GAAGA,KAGRM,EAAkBN,IACpB,GAAc,OAAVA,QAA4BC,IAAVD,EAAqB,MAAO,GAClD,MAAMO,EAAWC,WAAWR,GAC5B,OAAIO,EAAW,EAAU,WACrBA,EAAW,EAAU,WAClB,EAAE,EAGPE,EAAYC,UACd,IACI,MAAMC,EAAWtB,EAAWuB,KAAIC,GAC5BC,EAAAA,EAAMC,IAAI,8CAA+C,CACrDC,OAAQ,CAAEH,iBAOZI,QAAkBC,QAAQC,IAAIR,GACpCvB,EAAUY,MAAQiB,EAAUL,KAAIQ,GAAYA,EAASC,OAEjDjC,EAAUY,MAAMsB,OAAS,IACzBrC,EAAYe,MAAQZ,EAAUY,MAAM,GAAGuB,YACvCpC,EAASa,MAAQZ,EAAUY,MAAM,GAAGwB,SAE5C,CAAE,MAAOC,GACLC,QAAQD,MAAM,uBAAwBA,EAC1C,G,OAGJE,EAAAA,EAAAA,KAAU,KACNlB,GAAW,I,++BC3Hf,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://lcipage/./src/components/TableTab.vue","webpack://lcipage/./src/components/TableTab.vue?4ffa"],"sourcesContent":["<template>\r\n    <div class=\"table-container\">\r\n        <div class=\"table-card\">\r\n            <div class=\"table-header\">\r\n                <h2>碳酸锂各工艺成本日度变化</h2>\r\n                <!-- <div class=\"table-divider\"></div> -->\r\n            </div>\r\n            <div class=\"table-wrapper\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>工艺路径</th>\r\n                            <th>{{ formatDate(currentDate) }}理论成本价</th>\r\n                            <th>{{ formatDate(prevDate) }}理论成本价</th>\r\n                            <th>当日涨幅（%）</th>\r\n                            <th>五日涨幅（%）</th>\r\n                            <th>当期利润（元/吨）</th>\r\n                            \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(item, index) in tableData\" :key=\"index\">\r\n                            <td>{{ getProcessName(item.name) }}</td>\r\n                            <td>{{ formatValue_floor(item.validPrice) }}</td>\r\n                            <td>{{ formatValue_floor(item.lastvalidPrice) }}</td>\r\n                            <td :class=\"getChangeClass(item.dpr)\">{{ formatChange(item.dpr) }}</td>\r\n                            <td :class=\"getChangeClass(item.fiveDPR)\">{{ formatChange(item.fiveDPR) }}</td>\r\n                            <td :class=\"getChangeClass(item.cp)\">{{ formatValue_floor(item.cp) }}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst currentDate = ref('');\r\nconst prevDate = ref('');\r\nconst tableData = ref([]);\r\n\r\nconst indicators = [\r\n    'compoIndex',\r\n    'spodumene',\r\n    'lg_Lepidolite',\r\n    'hg_Lepidolite',\r\n    'lfp_Cathode',\r\n    'lfp_BattPower',\r\n    'NCM',\r\n    'ECSPot',\r\n    \r\n];\r\n\r\nconst getProcessName = (name) => {\r\n    const nameMap = {\r\n        'compoIndex': '通惠碳酸锂综合成本指数',\r\n        'spodumene': '锂辉石6%',\r\n        'lg_Lepidolite': '低品位锂云母',\r\n        'hg_Lepidolite': '高品位锂云母',\r\n        'lfp_Cathode': '磷酸铁锂正极片',\r\n        'lfp_BattPower': '磷酸铁锂电池粉',\r\n        'NCM': '三元极片粉',\r\n        'ECSPot': '电碳现货价',\r\n        \r\n    };\r\n    return nameMap[name] || name;\r\n};\r\n\r\nconst formatDate = (dateStr) => {\r\n    if (!dateStr) return '';\r\n    const date = new Date(dateStr);\r\n    return `${date.getMonth() + 1}月${date.getDate()}日`;\r\n};\r\n\r\n// 保留两位小数\r\n// const formatValue = (value) => {\r\n//     if (value === null || value === undefined) return '-';\r\n//     return Number(value).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n// };\r\n\r\n// 向下取整\r\nconst formatValue_floor = (value) => {\r\n    if (value === null || value === undefined) return '-';\r\n    return Math.floor(Number(value) * 100) / 100;\r\n};\r\n\r\n\r\n\r\n\r\nconst formatChange = (value) => {\r\n    if (value === null || value === undefined) return '-';\r\n    return `${value}%`;\r\n};\r\n\r\nconst getChangeClass = (value) => {\r\n    if (value === null || value === undefined) return '';\r\n    const numValue = parseFloat(value);\r\n    if (numValue > 0) return 'negative';\r\n    if (numValue < 0) return 'positive';\r\n    return '';\r\n};\r\n\r\nconst fetchData = async () => {\r\n    try {\r\n        const promises = indicators.map(indicator =>\r\n            axios.get('https://service.thqh.com.cn:27878/api/table', {\r\n                params: { indicator }\r\n            })\r\n            // axios.get('http://localhost:8081/api/table', {\r\n            //     params: { indicator }\r\n            // })\r\n        );\r\n\r\n        const responses = await Promise.all(promises);\r\n        tableData.value = responses.map(response => response.data);\r\n\r\n        if (tableData.value.length > 0) {\r\n            currentDate.value = tableData.value[0].currentdate;\r\n            prevDate.value = tableData.value[0].prevdate;\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    fetchData();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.table-container {\r\n    padding: 20px;\r\n\r\n}\r\n\r\n.table-card {\r\n    background: rgba(255, 255, 255, 0.5);\r\n    border-radius: 16px;\r\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);\r\n    overflow: hidden;\r\n}\r\n\r\n.table-header {\r\n    padding: 20px 24px;\r\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n}\r\n\r\n.table-header h2 {\r\n    margin: 0;\r\n    color: #2c3e50;\r\n    font-size: 30px;\r\n    font-weight: 600;\r\n    position: relative;\r\n    display: inline-block;\r\n    border-radius: 16px;\r\n    width: 420px;\r\n    padding: 15px 30px;\r\n    background-image: url('@/assets/小标题背景.png');\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    z-index: 1;\r\n}\r\n\r\n\r\n.table-divider {\r\n    height: 2px;\r\n    margin-top: 16px;\r\n    background: linear-gradient(90deg,\r\n            #4ba6f5 0%,\r\n            #33cc99 20%,\r\n            #fdca30 40%,\r\n            #f79400 60%,\r\n            #f34235 80%,\r\n            #a560e8 100%);\r\n    border-radius: 2px;\r\n}\r\n\r\n.table-wrapper {\r\n    padding: 20px;\r\n    overflow-x: auto;\r\n}\r\n\r\ntable {\r\n    width: 100%;\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n    margin-top: 10px;\r\n}\r\n\r\nth,\r\ntd {\r\n    padding: 16px;\r\n    text-align: center;\r\n    border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\nth {\r\n    background: #dadada;\r\n    color: #222222;\r\n    font-weight: 600;\r\n    font-size: 21px;\r\n    white-space: nowrap;\r\n}\r\n\r\ntd {\r\n    color: #2c3e50;\r\n    font-size: 18px;\r\n}\r\n\r\n/* 第一个指标（通惠碳酸锂综合成本指数）的特殊样式 */\r\ntr:first-child td {\r\n    font-size: 22px;\r\n    font-weight: 600;\r\n    color: #2c3e50;\r\n    text-shadow: \r\n        1px 1px 0 rgba(0, 0, 0, 0.1),\r\n        2px 2px 4px rgba(0, 0, 0, 0.1),\r\n        0 0 10px rgba(52, 152, 219, 0.2);\r\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(248, 249, 250, 0.1));\r\n}\r\n\r\n/* 保持原有的涨跌颜色样式 */\r\n.positive {\r\n    color: #33cc99;\r\n    font-weight: 500;\r\n}\r\n\r\n.negative {\r\n    color: #f34235;\r\n    font-weight: 500;\r\n}\r\n\r\n/* 第一个指标的涨跌颜色样式覆盖 */\r\ntr:first-child td.positive {\r\n    color: #33cc99;\r\n    text-shadow: \r\n        1px 1px 0 rgba(0, 0, 0, 0.1),\r\n        2px 2px 4px rgba(0, 0, 0, 0.1),\r\n        0 0 10px rgba(51, 204, 153, 0.2);\r\n}\r\n\r\ntr:first-child td.negative {\r\n    color: #f34235;\r\n    text-shadow: \r\n        1px 1px 0 rgba(0, 0, 0, 0.1),\r\n        2px 2px 4px rgba(0, 0, 0, 0.1),\r\n        0 0 10px rgba(243, 66, 53, 0.2);\r\n}\r\n\r\n/* 响应式布局调整 */\r\n@media (max-width: 768px) {\r\n    .table-container {\r\n        padding: 10px;\r\n    }\r\n\r\n    .table-wrapper {\r\n        padding: 10px;\r\n    }\r\n\r\n    th,\r\n    td {\r\n        padding: 12px 8px;\r\n        font-size: 13px;\r\n    }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n    .table-header h2 {\r\n        font-size: 18px;\r\n    }\r\n\r\n    th,\r\n    td {\r\n        padding: 10px 6px;\r\n        font-size: 12px;\r\n    }\r\n}\r\n</style>","import script from \"./TableTab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TableTab.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TableTab.vue?vue&type=style&index=0&id=478ff096&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-478ff096\"]])\n\nexport default __exports__"],"names":["currentDate","ref","prevDate","tableData","indicators","getProcessName","name","nameMap","formatDate","dateStr","date","Date","getMonth","getDate","formatValue_floor","value","undefined","Math","floor","Number","formatChange","getChangeClass","numValue","parseFloat","fetchData","async","promises","map","indicator","axios","get","params","responses","Promise","all","response","data","length","currentdate","prevdate","error","console","onMounted","__exports__"],"sourceRoot":""}